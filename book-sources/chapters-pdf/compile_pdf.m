% compile separate chapters

chap = {...
'shannon', ...
'fourier', ...
'shannon-coding', ...
'wavelets', ...
'approximation', ...
'compression', ...
'denoising', ...
'variational-priors', ...
'inverse-problems', ...
'sparse-regularization', ...
'sparse-theory', ...
'compressed-sensing', ...
'machine-learning', ...
'optim-ml-smooth', ...
'optim-ml-advanced', ...
'deep-learning', ...
'perceptrons', ...
'convex-analysis', ...
'optim-nonsmooth', ...
};


chap = {
%'shannon', ...
%'fourier', ...
'shannon-coding', ...
%'denoising', ...
%'inverse-problems', ...
};

cd ..
for i=1:length(chap)
    str = ['/Library/TeX/texbin/pdflatex -jobname=chapters-pdf/' chap{i} ' "\includeonly{chapters/' chap{i} '}\input{FundationsDataScience}"'];
    strbib = ['/Library/TeX/texbin/bibtex chapters-pdf/' chap{i}];
    system(str);
    system(strbib);
    system(str);
    system(str);
end
cd chapters-pdf/


system('rm *.log');
system('rm *.aux');
system('rm *.toc');
system('rm *.out');
system('rm *.bbl');
system('rm *.blg');

system('rm ../chapters/*.aux');
